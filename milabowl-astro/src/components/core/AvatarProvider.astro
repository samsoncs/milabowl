---
import { Image } from "astro:assets";

export interface Props {
  userName: string;
}

const { userName } = Astro.props;

const images: ImageMetadata[] = await Astro.glob("../../assets/*").then(
  (files) => {
    return files.map((file) => file.default);
  }
);
---

<!-- <Image style="border-radius: 999px" src={images.find(i => userName.toLowerCase().replaceAll(" ", "_").includes(i.src.toLowerCase().split('.')[0].split('/').pop()!.replace(".png", "")))!} alt={`Avatar for ${userName}`}> </Image>-->
<Image
  style="border-radius: 999px; display:inline"
  src={images.find((i) =>
    i.src.includes(userName.toLowerCase().replaceAll(" ", "_"))
  )!}
  alt={`Avatar for ${userName}`}
/>
